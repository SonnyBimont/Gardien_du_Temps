@startuml
' Generated by Mocodo 4.3.2
!define Table(x) class "x" << (T,#d8daeb) >>
!define pk(x) x
hide methods
left to right direction
skinparam groupInheritance 2
skinparam lineThickness 2
skinparam lineColor #e08214
skinparam backgroundColor #f7f7f7
skinparam classAttributeFontColor #000000
skinparam classAttributeFontName Monospaced
skinparam classAttributeFontSize 14
skinparam classBackgroundColor #d8daeb
skinparam classBorderColor #8073ac
skinparam classBorderThickness 2
skinparam classFontColor #000000
skinparam classFontName Arial
skinparam classFontSize 18
skinparam classHeaderBackgroundColor #b2abd2
Table("ACTIVITY_LOG") {
    {field} + pk(id)
    {field} + user_id
    {field} + action_date
    {field} + action_type
    {field} + description
    {field} + ip_address
}
"USER" "1..*" --- "1" "ACTIVITY_LOG": "GENERATES"
"USER" "*" --- "1..*" "TIME_ENTRY": "VALIDATES"
Table("TIME_ENTRY") {
    {field} + pk(id)
    {field} + user_id
    {field} + date_time
    {field} + entry_type
    {field} + comment
    {field} + validated
    {field} + validated_by
}
"USER" "1..*" --- "1" "TIME_ENTRY": "PERFORMS"
"USER" "1..*" --- "1..*" "TASK": "IS_ASSIGNED"
("USER", "TASK") .. "IS_ASSIGNED"
Table("IS_ASSIGNED") {
    {field} + id
    {field} + user_id
    {field} + task_id
    {field} + time_worked
    {field} + work_date
}
Table("TASK") {
    {field} + pk(id)
    {field} + project_id
    {field} + name
    {field} + description
    {field} + priority
    {field} + estimated_time
    {field} + start_date
    {field} + due_date
    {field} + status
    {field} + recurrence
}
"PROJECT" "1..*" --- "1" "TASK": "CONTAINS"
Table("SCHOOL_VACATIONS") {
    {field} + pk(id)
    {field} + zone
    {field} + period_name
    {field} + start_date
    {field} + end_date
    {field} + school_year
}
Table("SCHEDULE_PLAN") {
    {field} + pk(id)
    {field} + user_id
    {field} + date
    {field} + start_time
    {field} + end_time
    {field} + break_start
    {field} + break_end
    {field} + comment
    {field} + is_template
}
"USER" "1..*" --- "1" "SCHEDULE_PLAN": "ESTABLISHES"
Table("USER") {
    {field} + pk(id)
    {field} + email
    {field} + password
    {field} + last_name
    {field} + first_name
    {field} + phone
    {field} + organization_id
    {field} + role
    {field} + contract_type
    {field} + weekly_hours
    {field} + annual_hours
    {field} + contract_start_date
    {field} + contract_end_date
    {field} + active
}
"ORGANIZATION" "1..*" --- "1" "USER": "BELONGS_TO"
Table("ORGANIZATION") {
    {field} + pk(id)
    {field} + name
    {field} + address
    {field} + postal_code
    {field} + city
    {field} + school_vacations_zone
    {field} + active
}
"ORGANIZATION" "1..*" --- "1" "PROJECT": "DEPENDS_ON"
Table("PROJECT") {
    {field} + pk(id)
    {field} + organization_id
    {field} + name
    {field} + description
    {field} + start_date
    {field} + end_date
    {field} + status
}
@enduml